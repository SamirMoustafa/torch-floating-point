# Test-specific Dockerfile that extends the optimized build
# This allows us to run tests separately and cache the build results

FROM torch-floating-point:latest as test-base

# Run tests to verify everything works
RUN pytest --log-cli-level=DEBUG --capture=tee-sys test/round.py test/data_types.py -vvv -s

# Default command for testing
CMD ["python", "-m", "pytest", "test/round.py", "test/data_types.py", "-v"]
